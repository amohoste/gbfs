prefixes:
  gbfs: "http://example.com/terms#"
  ex: "http://example.com/"
  geo: "http://www.w3.org/2003/01/geo/wgs84_pos#"

sources:
  system_information_source:
    access: system_information.json
    referenceFormulation: jsonpath
    iterator: $.data
  station_info_source:
    access: station_information.json
    referenceFormulation: jsonpath
    iterator: $.data.stations[*]
  station_status_source:
    access: station_status.json
    referenceFormulation: jsonpath
    iterator: $.data.stations[*]
  free_bike_status_source: # Optional
    access: free_bike_status.json
    referenceFormulation: jsonpath
    iterator: $.data.bikes[*]
  system_hours_source: # Optional
    access: system_hours.json
    referenceFormulation: jsonpath
    iterator: $.data.rental_hours[*]
  system_calendar_source: # Optional
    access: system_calendar.json
    referenceFormulation: jsonpath
    iterator: $.data.calendars[*]
  system_regions_source: # Optional
    access: system_regions.json
    referenceFormulation: jsonpath
    iterator: $.data.regions[*]
  system_pricing_plans_source: # Optional
    access: system_pricing_plans.json
    referenceFormulation: jsonpath
    iterator: $.data.plans[*]
  system_alerts_source: # Optional
    access: system_alerts.json
    referenceFormulation: jsonpath
    iterator: $.data.alerts[*]

mappings: 
  system_info:
    sources: system_information_source
    s: ex:system
    po:
      - [a, gbfs:System]
      - [gbfs:system_id, $(system_id)]
      - [gbfs:language, $(language)]
      - [gbfs:name, $(name)]
      - [gbfs:short_name, $(short_name)]
      - [gbfs:operator, $(operator)]
      - [gbfs:url, $(url)]
      - [gbfs:purchase_url, $(purchase_url)]
      - [gbfs:start_date, $(start_date), xsd:]
      - [foaf:phone, $(phone_number)]
      - [foaf:mbox, $(email)]
      - [gbfs:timezone, $(timezone)]
      - [gbfs:license_url, $(license_url)]
  station_info:
    sources: station_info_source
    s: ex:station/$(station_id)
    po:
      - [a, gbfs:Station]
      - [gbfs:station_id, $(station_id)]
      - [gbfs:name, $(name)]
      - [gbfs:short_name, $(short_name)]
      - [geo:lat, $(lat), xsd:double]
      - [geo:long, $(lon), xsd:double]
      - [geo:address, $(address)]
      - [gbfs:cross_street, $(cross_street)]
      - [gbfs:region, ex:regions/$(region_id)~iri] 
      - [vcard:postal-code, $(post_code)]
      - [gbfs:rental_method, gbfs:$(rental_methods)~iri]
      - [gbfs:capacity, $(capacity), xsd:integer]
  station_status:
    sources: station_status_source
    s: ex:station/$(station_id)
    po:
      - [gbfs:num_bikes_available, $(num_bikes_available), xsd:integer]
      - [gbfs:num_bikes_disabled, $(num_bikes_disabled), xsd:integer]
      - [gbfs:num_docks_available, $(num_docks_available), xsd:integer]
      - [gbfs:num_docks_disabled, $(num_docks_disabled), xsd:integer]
      - [gbfs:is_installed, $(is_installed), xsd:boolean]
      - [gbfs:is_renting, $(is_renting), xsd:boolean]
      - [gbfs:is_returning, $(is_returning), xsd:boolean]
      - [gbfs:last_reported, $(last_reported), xsd:integer]
  free_bike_status:
    sources: free_bike_status_source
    s: ex:bikes/$(bike_id)
    po:
      - [gbfs:bike_id, $(bike_id)]
      - [geo:lat, $(lat), xsd:double]
      - [geo:long, $(lon), xsd:double]
      - [gbfs:is_reserved , $(is_reserved), xsd:boolean]
      - [gbfs:is_disabled , $(is_disabled), xsd:boolean]
  system_hours: # Todo
    sources: system_hours_source
    s: ex:system_hours/tochange # Todo generate id by concatenating, need function?
    po:
     - [a, gbfs:RentalHour]
     - [gbfs:user_type, gbfs:$(user_types)~iri]
     - [gbfs:day, gbfs:$(days)~iri]
     - [gbfs:start_time, $(start_time), xsd:time]
     - [gbfs:end_time, $(end_time), xsd:time]
  system_calendar: # Todo: linken aan system + hoe id genereren? adhv. concatenatie start en end dates?
    sources: system_calendar_source
    s: ex:calendars/$(start_date) # Todo generate id by concatenating, need function?
    po:
      - [a, gbfs:Calendar]
      - [gbfs:start_day, $(start_day)]
      - [gbfs:start_month, $(start_month)]
      - [gbfs:start_year, $(start_year)]
      - [gbfs:end_day, $(end_day)]
      - [gbfs:end_month, $(end_month)]
      - [gbfs:end_year, $(end_year)]
  system_regions: 
    sources: system_regions_source
    s: ex:regions/$(region_id)
    po:
      - [a, gbfs:Region]
      - [gbfs:region_id, $(region_id)]
      - [gbfs:name, $(name)]
  system_pricing_plans:
    sources: system_pricing_plans_source
    s: ex:plans/$(plan_id)
    po:
      - [a, gbfs:Plan]
      - [gbfs:plan_id, $(plan_id)]
      - [gbfs:url, $(url)]
      - [gbfs:name, $(name)]
      - [gbfs:currency, $(currency)]
      - [gbfs:price, $(price), xsd:double]
      - [gbfs:is_taxable , $(is_taxable), xsd:boolean]
      - [rdfs:comment, $(description)]
  system_alerts:
    sources: system_alerts_source
    s: ex:alerts/$(alert_id)
    po:
      - [a, gbfs:Alert]
      - [gbfs:alert_id, $(alert_id)]
      - [gbfs:alertType, gbfs:$(type)~iri]
      #- p: gbfs:alertTime
      #  o: 
      # times: todo
      - [gbfs:station, ex:stations/$(station_ids)~iri]
      - [gbfs:region, ex:regions/$(region_ids)]
      - [gbfs:url, $(url)]
      - [dcterms:abstract, $(summary)]
      - [rdfs:comment, $(description)]
      - [dcterms:modified, $(last_updated), xsd:integer]
 # alert_time:
  #  sources: system_alerts_source
   # s: ex:alerts/alert_times/ # change
    #po:
#
 #   sources:
  #    - ['movies.csv~csv']
   # s: http://example.com/movie/$(slug)
    #po:
     # - [a, schema:Movie]
     # - [schema:name, $(title)]
     # - [ex:year, $(year)]
      